(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var o=r.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=o[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"eb13a96a4329549347ac.svg",r=e.p+"08293310ce926979c03a.svg",o=(e,t)=>{let r=0,o=t;const a=()=>r===t;return{name:e,get health(){return o},get damage(){return r},hasSunk:a,hit:()=>{let e="";return a()?("The ship you are trying to hit has already sank.","The ship you are trying to hit has already sank."):(r+=1,o-=1,a())}}},a=o("Carrier",5),n=o("Battleship",4),c=o("Destroyer",3),i=o("Submarine",3),s=o("Patrol Boat",2),l=()=>{const e=100,o=document.querySelector("#player-board"),l=document.querySelector("#computer-board"),d=document.querySelector(".player-title"),p=document.querySelector(".computer-title"),u=[];for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1)u.push([e,t]);return{drawBoards:()=>{for(let r=0;r<e;r+=1){const e=document.createElement("button"),r=document.createElement("button");e.classList.add("water");const a=document.createElement("img"),n=document.createElement("img");a.src=t,n.src=t,e.append(a),r.classList.add("water"),r.append(n),o.append(e),l.append(r)}},showPlayerTitles:(e,t)=>{d.textContent=e,p.textContent=t},placePlayerShips:e=>{e.board.placeShip(a,0,0,"vertical"),e.board.placeShip(n,4,2,"horizontal"),e.board.placeShip(c,7,8,"vertical"),e.board.placeShip(i,0,7,"horizontal"),e.board.placeShip(s,8,1,"vertical")},placeComputerShips:e=>{e.board.placeShip(a,9,5,"horizontal"),e.board.placeShip(n,3,0,"vertical"),e.board.placeShip(c,2,7,"horizontal"),e.board.placeShip(i,4,3,"horizontal"),e.board.placeShip(s,0,3,"horizontal")},showPlayerBoard:a=>{o.innerHTML="";const n=[];for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1)n.push(a[e][t]);for(let t=0;t<e;t+=1){const e=document.createElement("button");n[t],o.append(e)}for(let a=0;a<e;a+=1)if("water"===n[a]){const e=document.createElement("img");e.src=t,[...o.children][a].classList.add("water"),[...o.children][a].append(e)}else{const e=document.createElement("img");e.src=r,[...o.children][a].classList.add("water"),[...o.children][a].append(e)}const c=document.querySelectorAll("#player-board>button>img");for(let t=0;t<e;t+=1)c[t].setAttribute("x",u[t][0]),c[t].setAttribute("y",u[t][1])},showComputerBoard:r=>{l.innerHTML="";const o=[];for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1)o.push(r[e][t]);for(let t=0;t<e;t+=1){const e=document.createElement("button");o[t],l.append(e)}for(let r=0;r<e;r+=1)if("water"===o[r]){const e=document.createElement("img");e.src=t,[...l.children][r].classList.add("water"),[...l.children][r].append(e)}else{const e=document.createElement("img");e.src=t,[...l.children][r].classList.add("water"),[...l.children][r].append(e)}const a=document.querySelectorAll("#computer-board>button>img");for(let t=0;t<e;t+=1)a[t].setAttribute("x",u[t][0]),a[t].setAttribute("y",u[t][1])}}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Computer";const t=(()=>{const e=[],t=10,r=(e,r)=>e>=0&&e<t&&r>=0&&r<t;return{createBoard:()=>{for(let r=0;r<t;r+=1){e[r]=[];for(let o=0;o<t;o+=1)e[r][o]="water"}return e},placeShip:(o,a,n,c)=>{const{health:i}=o;if(!((o,a,n,c)=>{const i="horizontal"===c?1:0,s="vertical"===c?1:0;for(let c=0;c<o;c+=1){const o=n+c*i,l=a+c*s;if(!r(o,l))return!1;for(let r=o-1;r<=o+1;r+=1)for(let o=l-1;o<=l+1;o+=1)if(r>=0&&r<t&&o>=0&&o<t&&"water"!==e[o][r])return!1}return!0})(i,a,n,c))return!1;const s="horizontal"===c?1:0,l="vertical"===c?1:0;for(let t=0;t<i;t+=1){const r=n+t*s;e[a+t*l][r]=o}return!0},receiveAttack:(t,r)=>{const o=e[t][r];return null!==o&&"function"==typeof o.hit?o.hit():(e[t][r]="M","Missed")},allShipsSunk:()=>!!(a.hasSunk()&&n.hasSunk()&&c.hasSunk()&&i.hasSunk()&&s.hasSunk()),get board(){return e}}})();return{name:e,board:t,createGameBoard:()=>t.createBoard()}},p=e.p+"7eb3f4a311e092747a0e.svg",u=e.p+"7598f323f39c8279a997.svg",h=e.p+"987334e9f782cc505f25.png";document.querySelector(".gh-logo").src=h,(()=>{const e=document.querySelector("#computer-board"),t=document.querySelector("#player-board"),r=document.querySelector(".message"),o=d("Player"),a=d(),n=o.createGameBoard(),c=a.createGameBoard();l().showPlayerTitles(o.name,a.name),l().drawBoards(),l().placePlayerShips(o),l().showPlayerBoard(n),l().placeComputerShips(a),l().showComputerBoard(c);const i=new Set;for(;i.size<100;){const e=Math.floor(100*Math.random());i.add(`${e}`)}const s=Array.from(i).map((e=>+e)),h=()=>{const i=l=>{if(l.stopImmediatePropagation(),l.target.closest("img")){const d=l.target,m=+d.getAttribute("x"),b=+d.getAttribute("y"),f=a.board.receiveAttack(m,b);"Missed"===f&&(d.src=p,d.parentNode.disabled=!0,e.removeEventListener("click",i),r.textContent=`${a.name} turn`,setTimeout((()=>{(()=>{const e=c=>{if(c.stopImmediatePropagation(),c.target.closest("img")){const i=c.target,l=o.board.receiveAttack(+i.getAttribute("x"),+i.getAttribute("y"));"Missed"===l&&(i.parentNode.disabled=!0,i.src=p,t.removeEventListener("click",e),r.textContent=`${o.name} turn`,h()),!1===l&&(i.parentNode.disabled=!0,i.src=u,t.addEventListener("click",e,{once:!0}),setTimeout((()=>{[...t.children][s.shift()].firstChild.click()}),800)),!0===l&&(i.parentNode.disabled=!0,i.src=u,t.addEventListener("click",e,{once:!0}),setTimeout((()=>{[...t.children][s.shift()].firstChild.click()}),800)),"The ship you are trying to hit has already sank."===l&&(i.parentNode.disabled=!0,i.src=u,t.addEventListener("click",e,{once:!0}),setTimeout((()=>{[...t.children][s.shift()].firstChild.click()}),800)),console.log(i),console.log(o),console.table(n),o.board.allShipsSunk()&&(r.textContent=`${a.name} Wins!`)}};t.addEventListener("click",e,{once:!0}),[...t.children][s.shift()].firstChild.click()})()}),800)),!1!==f&&!0!==f||(d.parentNode.disabled=!0,d.src=u),"The ship you are trying to hit has already sank."===f&&(d.parentNode.disabled=!0,d.src=u),console.log(d),console.log(a),console.table(c),a.board.allShipsSunk()&&(r.textContent=`${o.name} Wins !`)}};e.addEventListener("click",i)};r.textContent=`${o.name} turn`,h()})()})();
//# sourceMappingURL=battleship9b0070658d88b8fb3bdb.bundle.js.map