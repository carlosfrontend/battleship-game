(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var r=t.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var a=r.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=(t,e)=>{let r=0,a=e;const n=()=>r===e;return{name:t,get health(){return a},get damage(){return r},hasSunk:n,hit:()=>{let t="";return n()?("The ship you are trying to hit has already sank.","The ship you are trying to hit has already sank."):(r+=1,a-=1,n())}}},r=e("Carrier",5),a=e("Battleship",4),n=e("Destroyer",3),o=e("Submarine",3),c=e("Patrol Boat",2),l=e("Carrier",5),i=e("Battleship",4),s=e("Destroyer",3),u=e("Submarine",3),d=e("Patrol Boat",2),g=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Computer";const e=(()=>{const t=[],e=10,g=(t,r)=>t>=0&&t<e&&r>=0&&r<e;return{createBoard:()=>{for(let r=0;r<e;r+=1){t[r]=[];for(let a=0;a<e;a+=1)t[r][a]="water"}return t},placeShip:(r,a,n,o)=>{const{health:c}=r;if(!((r,a,n,o)=>{const c="horizontal"===o?1:0,l="vertical"===o?1:0;for(let o=0;o<r;o+=1){const r=n+o*c,i=a+o*l;if(!g(r,i))return!1;for(let a=r-1;a<=r+1;a+=1)for(let r=i-1;r<=i+1;r+=1)if(a>=0&&a<e&&r>=0&&r<e&&"water"!==t[r][a])return!1}return!0})(c,a,n,o))return!1;const l="horizontal"===o?1:0,i="vertical"===o?1:0;for(let e=0;e<c;e+=1){const o=n+e*l;t[a+e*i][o]=r}return!0},receiveAttack:(e,r)=>{const a=t[e][r];return null!==a&&"function"==typeof a.hit?a.hit():(t[e][r]="M","Missed")},allShipsSunk:()=>!!(r.hasSunk()&&a.hasSunk()&&n.hasSunk()&&o.hasSunk()&&c.hasSunk()||l.hasSunk&&i.hasSunk()&&s.hasSunk()&&u.hasSunk()&&d.hasSunk()),get board(){return t}}})();return{name:t,board:e,createGameBoard:()=>e.createBoard()}},h=t.p+"eb13a96a4329549347ac.svg",p=t.p+"08293310ce926979c03a.svg",b=t.p+"92102e0501c6d462798b.svg",m=t.p+"7598f323f39c8279a997.svg",k=t.p+"987334e9f782cc505f25.png";document.querySelector(".gh-logo").src=k,(()=>{const t=document.querySelector("#player-board"),e=document.querySelector("#computer-board"),k=g("Player"),y=g(),f=k.createGameBoard(),S=y.createGameBoard(),v=[],w=[],$=[];let L=!0,I=!0;const A=document.querySelector(".message"),E=new Set;for(;E.size<100;){const t=Math.floor(100*Math.random());E.add(`${t}`)}const B=Array.from(E).map((t=>+t));k.board.placeShip(r,0,0,"horizontal"),k.board.placeShip(a,4,9,"vertical"),k.board.placeShip(n,2,6,"vertical"),k.board.placeShip(o,9,2,"horizontal"),k.board.placeShip(c,4,3,"vertical"),y.board.placeShip(l,1,3,"horizontal"),y.board.placeShip(i,3,9,"vertical"),y.board.placeShip(s,6,6,"vertical"),y.board.placeShip(u,5,2,"horizontal"),y.board.placeShip(d,2,0,"vertical");const M=r=>{if(r.stopPropagation(),r.target.closest(".water")){const a=+r.target.getAttribute("x"),n=+r.target.getAttribute("y");k.board.receiveAttack(a,n),"M"===f[a][n]?(I=!1,r.target.style.backgroundImage="",r.target.style.backgroundImage=`url(${b})`,r.target.disabled=!0):([...t.children][B.shift()].click(),I=!0,r.target.style.backgroundImage="",r.target.style.backgroundImage=`url(${m})`,r.target.disabled=!0),I?t.addEventListener("click",M):(t.removeEventListener("click",M),e.addEventListener("click",z))}k.board.allShipsSunk()&&(A.textContent=`${y.name} Wins!`,console.table(f))},z=r=>{if(r.stopPropagation(),r.target.closest(".water")){const a=+r.target.getAttribute("x"),n=+r.target.getAttribute("y");if(y.board.receiveAttack(a,n),"M"!==S[a][n])return L=!0,r.target.style.backgroundImage="",r.target.style.backgroundImage=` url(${m})`,r.target.disabled=!0,void(y.board.allShipsSunk()&&(A.textContent=`${k.name} Wins!`,console.table(S)));L=!1,r.target.style.backgroundImage="",r.target.style.backgroundImage=` url(${b})`,r.target.disabled=!0,L?e.addEventListener("click",z):(e.removeEventListener("click",z),t.addEventListener("click",M),[...t.children][B.shift()].click())}};(()=>{t.innerHTML="",e.innerHTML="";for(let t=0;t<10;t+=1)for(let e=0;e<10;e+=1)v.push(f[t][e]),w.push(S[t][e]),$.push([t,e]);for(let r=0;r<100;r+=1){const a=document.createElement("button"),n=document.createElement("button");"water"===v[r]&&(a.classList.add("water"),a.style.backgroundImage=` url(${h})`),"object"==typeof v[r]&&(a.classList.add("water"),a.style.backgroundImage=` url(${p})`),"M"===v[r]&&(a.classList.add("water"),a.style.backgroundImage=`url(${h})`),"water"===w[r]&&(n.classList.add("water"),n.style.backgroundImage=`url(${h})`),"object"==typeof w[r]&&(n.classList.add("water"),n.style.backgroundImage=`url(${h})`),"M"===w[r]&&(n.classList.add("water"),n.style.backgroundImage=`url(${h})`),t.append(a),e.append(n),[...t.children][r].setAttribute("x",$[r][0]),[...t.children][r].setAttribute("y",$[r][1]),[...e.children][r].setAttribute("x",$[r][0]),[...e.children][r].setAttribute("y",$[r][1])}})(),e.addEventListener("click",z)})()})();
//# sourceMappingURL=battleshipb21e34f3719b2e19a917.bundle.js.map