(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var a=r.getElementsByTagName("script");if(a.length)for(var o=a.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=a[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=(e,t)=>{let r=0,a=t;const o=()=>r===t;return{name:e,get health(){return a},get damage(){return r},hasSunk:o,hit:()=>{let e="";return o()?("The ship you are trying to hit has already sank.","The ship you are trying to hit has already sank."):(r+=1,a-=1,o())}}},r=t("Carrier",5),a=t("Battleship",4),o=t("Destroyer",3),l=t("Submarine",3),c=t("Patrol Boat",2),n=t("Carrier",5),u=t("Battleship",4),s=t("Destroyer",3),i=t("Submarine",3),d=t("Patrol Boat",2),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Computer";const t=(()=>{const e=[],t=10,p=(e,r)=>e>=0&&e<t&&r>=0&&r<t;return{createBoard:()=>{for(let r=0;r<t;r+=1){e[r]=[];for(let a=0;a<t;a+=1)e[r][a]="water"}return e},placeShip:(r,a,o,l)=>{const{health:c}=r;if(!((r,a,o,l)=>{const c="horizontal"===l?1:0,n="vertical"===l?1:0;for(let l=0;l<r;l+=1){const r=o+l*c,u=a+l*n;if(!p(r,u))return!1;for(let a=r-1;a<=r+1;a+=1)for(let r=u-1;r<=u+1;r+=1)if(a>=0&&a<t&&r>=0&&r<t&&"water"!==e[r][a])return!1}return!0})(c,a,o,l))return!1;const n="horizontal"===l?1:0,u="vertical"===l?1:0;for(let t=0;t<c;t+=1){const l=o+t*n;e[a+t*u][l]=r}return!0},receiveAttack:(t,r)=>{const a=e[t][r];return null!==a&&"function"==typeof a.hit?a.hit():(e[t][r]="M","Missed")},allShipsSunk:()=>!!(r.hasSunk()&&a.hasSunk()&&o.hasSunk()&&l.hasSunk()&&c.hasSunk()||n.hasSunk&&u.hasSunk()&&s.hasSunk()&&i.hasSunk()&&d.hasSunk()),get board(){return e}}})();let p={carrier:n,battleship:u,destroyer:s,submarine:i,patrolBoat:d};return"Computer"!==e&&(p={carrier:r,battleship:a,destroyer:o,submarine:l,patrolBoat:c}),{name:e,board:t,ships:p,createGameBoard:()=>t.createBoard()}},h=e.p+"eb13a96a4329549347ac.svg",m=e.p+"08293310ce926979c03a.svg",b=e.p+"92102e0501c6d462798b.svg",y=e.p+"7598f323f39c8279a997.svg",v=e.p+"21a2bc942cb9bc7cfffa.svg",g=e.p+"cd25b54c04cdfd64d494.svg",S=e.p+"ac7232c258b338e7613e.svg",f=e.p+"2474221a5a20a9badc0e.svg",k=e.p+"987334e9f782cc505f25.png";e.p,document.querySelector(".gh-logo").src=k,(()=>{const e=document.querySelector("#player-board"),t=document.querySelector("#computer-board"),r=p("Player"),a=p(),o=r.createGameBoard(),l=a.createGameBoard(),c=[],n=[],u=[];let s=!0,i=!0;const d=document.querySelector(".message"),k=[...document.querySelectorAll(".computer-counter>.counter")],q=[...document.querySelectorAll(".player-counter>.counter")],w=document.querySelector(".player-title"),B=document.querySelector(".computer-title"),L=document.querySelector("#user-dialog"),$=document.querySelector(".settings-logo"),x=document.querySelector("#user-form"),E=document.querySelector("#name-one"),A=document.querySelector("#name-two"),C=document.querySelector(".ship-wheel-icon"),I=document.querySelector(".movie-roll-icon"),M=document.querySelector(".power-off-icon"),P=document.querySelector("#place-normal-ships"),T=document.querySelector("#place-ship-dialog"),j=document.querySelector("#place-form"),z=document.querySelector("#reset"),D=document.querySelector("#game-opt");$.src=v,C.src=g,I.src=S,M.src=f,L.showModal(),A.disabled=!0,D.addEventListener("change",(()=>{"playerVsComputer"===D.value&&(A.disabled=!0),"playerVsPlayer"===D.value&&(A.disabled=!1)})),z.addEventListener("click",(()=>{E.value="",A.value=""})),x.addEventListener("submit",(()=>{"playerVsComputer"===D.value&&(w.textContent=E.value,B.textContent=a.name,d.textContent=`${E.value} place your ships please`)})),P.addEventListener("click",(()=>{T.showModal()})),a.board.placeShip(a.ships.carrier,1,3,"horizontal"),a.board.placeShip(a.ships.battleship,3,9,"vertical"),a.board.placeShip(a.ships.destroyer,6,6,"vertical"),a.board.placeShip(a.ships.submarine,5,2,"horizontal"),a.board.placeShip(a.ships.patrolBoat,2,0,"vertical");const O=()=>{e.innerHTML="",t.innerHTML="";for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1)c.push(o[e][t]),n.push(l[e][t]),u.push([e,t]);for(let r=0;r<100;r+=1){const a=document.createElement("button"),o=document.createElement("button");"water"===c[r]&&(a.classList.add("water"),a.style.backgroundImage=` url(${h})`),"object"==typeof c[r]&&(a.classList.add("water"),a.style.backgroundImage=` url(${m})`),"M"===c[r]&&(a.classList.add("water"),a.style.backgroundImage=`url(${h})`),"water"===n[r]&&(o.classList.add("water"),o.style.backgroundImage=`url(${h})`),"object"==typeof n[r]&&(o.classList.add("water"),o.style.backgroundImage=`url(${h})`),"M"===n[r]&&(o.classList.add("water"),o.style.backgroundImage=`url(${h})`),e.append(a),t.append(o),[...e.children][r].setAttribute("x",u[r][0]),[...e.children][r].setAttribute("y",u[r][1]),[...t.children][r].setAttribute("x",u[r][0]),[...t.children][r].setAttribute("y",u[r][1])}},G=new Set;for(;G.size<100;){const e=Math.floor(100*Math.random());G.add(`${e}`)}const H=Array.from(G).map((e=>+e)),V=l=>{if(l.stopPropagation(),l.target.closest(".water")){const a=+l.target.getAttribute("x"),c=+l.target.getAttribute("y");if(r.board.receiveAttack(a,c),"M"===o[a][c])i=!1,l.target.style.backgroundImage="",l.target.style.backgroundImage=`url(${b})`,l.target.disabled=!0;else{const t=o[a][c],n=Object.values(r.ships).indexOf(t);"Carrier"!==t.name&&"Battleship"!==t.name&&"Destroyer"!==t.name&&"Submarine"!==t.name&&"Patrol Boat"!==t.name||([...q[n].children][t.health].style.backgroundColor="red"),i=!0,l.target.style.backgroundImage="",l.target.style.backgroundImage=`url(${y})`,l.target.disabled=!0,[...e.children][H.shift()].click()}i?e.addEventListener("click",V):(e.removeEventListener("click",V),t.addEventListener("click",W))}r.board.allShipsSunk()&&(d.textContent=`${a.name} Wins!`)},W=o=>{if(o.stopPropagation(),o.target.closest(".water")){const c=+o.target.getAttribute("x"),n=+o.target.getAttribute("y");if(a.board.receiveAttack(c,n),"M"!==l[c][n]){const e=l[c][n],t=Object.values(a.ships).indexOf(e);return"Carrier"!==e.name&&"Battleship"!==e.name&&"Destroyer"!==e.name&&"Submarine"!==e.name&&"Patrol Boat"!==e.name||([...k[t].children][e.damage-1].style.backgroundColor="red"),s=!0,o.target.style.backgroundImage="",o.target.style.backgroundImage=` url(${y})`,o.target.disabled=!0,void(a.board.allShipsSunk()&&(d.textContent=`${r.name} Wins!`))}s=!1,o.target.style.backgroundImage="",o.target.style.backgroundImage=` url(${b})`,o.target.disabled=!0,s?t.addEventListener("click",W):(t.removeEventListener("click",W),e.addEventListener("click",V),[...e.children][H.shift()].click())}};j.addEventListener("submit",(()=>{const e=document.querySelector("#carrier-x"),t=document.querySelector("#carrier-y"),a=document.querySelector("#carrier-orientation"),l=document.querySelector("#battleship-x"),c=document.querySelector("#battleship-y"),n=document.querySelector("#battleship-orientation"),u=document.querySelector("#destroyer-x"),s=document.querySelector("#destroyer-y"),i=document.querySelector("#destroyer-orientation"),d=document.querySelector("#submarine-x"),p=document.querySelector("#submarine-y"),h=document.querySelector("#submarine-orientation"),m=document.querySelector("#patrol-x"),b=document.querySelector("#patrol-y"),y=document.querySelector("#patrol-orientation");!0===r.board.placeShip(r.ships.carrier,+e.value-1,+t.value,a.value)&&!0===r.board.placeShip(r.ships.battleship,+l.value-1,+c.value,n.value)&&!0===r.board.placeShip(r.ships.destroyer,+u.value-1,+s.value,i.value)&&!0===r.board.placeShip(r.ships.submarine,+d.value-1,+p.value,h.value)&&!0===r.board.placeShip(r.ships.patrolBoat,+m.value-1,+b.value,y.value)?(r.board.placeShip(r.ships.carrier,+e.value-1,+t.value,a.value),r.board.placeShip(r.ships.battleship,+l.value-1,+c.value,n.value),r.board.placeShip(r.ships.destroyer,+u.value-1,+s.value,i.value),r.board.placeShip(r.ships.submarine,+d.value-1,+p.value,h.value),r.board.placeShip(r.ships.patrolBoat,+m.value-1,+b.value,y.value),O(),console.table(o)):(alert("Bad positions try again !"),e.value="",t.value="",a.value="Horizontal",l.value="",c.value="",n.value="",u.value="",s.value="",i.value="",d.value="",p.value="",h.value="",m.value="",b.value="",y.value="")})),O(),t.addEventListener("click",W)})()})();
//# sourceMappingURL=battleship892bb983f31daa354e1f.bundle.js.map